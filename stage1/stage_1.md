## 计算机系统基本组成与基本功能

### 第一台通用电子计算机的诞生

#### 1946年，第1台通用电子计算机ENIAC诞生
二战时期美国为了解决复杂弹道计算问题，由宾夕法尼亚大学研制出第一台通用计算机。
该计算机由电子真空管组成，运算速度为5000次加法/s，也可计算平方、立方、sin、cos等。
用十进制表示信息并运算，采用手动编程，通过设置开关和插拔电缆来实现。

#### 冯·诺依曼结构

冯·诺依曼结构最重要的思想是 **“存储程序(Stored-program)”**工作方式：
***任何要计算机完成的工作都要先被编写成程序，然后将程序和原始数据送入主存并启动执行。一旦程序被启动，
计算机应能在不需操作人员干预下，自动完成逐条取出指令和执行指令的任务。***

##### 冯·诺依曼结构是怎样的？

    1.应该有个主存，用来存放程序和数据
    2.应该有一个自动逐条取出指令的部件
    3.还应该有具体执行指令（即运算）的部件
    4.程序由指令构成
    5.指令描述如何对数据进行处理
    6.应该有将程序和原始数据输入计算机的部件
    7.应该有将运算结果输出计算机的部件

![image](https://raw.githubusercontent.com/wiki/AlexBruceLu/computer-system-architecture/stage1_2.png)
![image](https://raw.githubusercontent.com/wiki/AlexBruceLu/computer-system-architecture/stage1_3.png)

早期，部件之间用分散方式相连。现在，部件之间大多用总线方式相连。

    1. 计算机应由运算器、控制器、存储器、输入设备和输出设备五个基本部件组成。
    2. 各基本部件的功能是：存储器不仅能存放数据，而且也能存放指令，形式上两者没有区别，但计算机应能区分数据还是指令；
     控制器应能自动取出指令来执行； 运算器应能进行加/减/乘/除四种基本算术运算，并且也能进行一些逻辑运算和附加运算；
     操作人员可以通过输入设备、输出设备和主机进行通信。
    3. 内部以二进制表示指令和数据。每条指令由操作码和地址码两部分组成。操作码指出操作类型，地址码指出操作数的地址。由一串指令组成程序。
    4. 采用“存储程序”工作方式
![image](https://raw.githubusercontent.com/wiki/AlexBruceLu/computer-system-architecture/stage1_4.png)

    CPU：中央处理器；PC：程序计数器；MAR：存储器地址寄存器
    ALU：算术逻辑部件；IR：指令寄存器；MDR：存储器数据寄存器
    GPRs：通用寄存器组（由若干通用寄存器组成，早期就是累加器）


#### 计算机是如何工作的？
**程序由指令组成**数据和指令事先存放在存储器中，每条指令和每个数据都有地址，指令按序存放，指令由OP、ADDR字段组成，程序起始地址置PC。

    开始执行程序
    第一步：根据PC取指令
    第二步：指令译码
    第三步：取操作数
    第四步：指令执行
    第五步：回写结果
    第六步：修改PC的值
    继续执行下一条指令

程序启动前，指令和数据都存放在存储器中，形式上没有差别，都是0/1序列。采用”存储程序“工作方式：程序由指令组成，
程序被启动后，计算机能自动取出一条一条指令执行，在执行过程中无需人的干预。
指令执行过程中，指令和数据被从存储器取到CPU，存放在CPU内的寄存器中，指令在IR中，数据在GPR中。


